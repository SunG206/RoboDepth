<img src="https://github.com/ldkong1205/RoboDepth/blob/main/docs/figs/logo2.png" align="right" width="34%">

# Robustness Enhancement

### Outline
- [Train & Test on Clean Data](#train--test-on-clean-data)
- [Train & Test on Corrupted Data](#train--test-on-corrupted-data)


## Train & Test on Clean Data

### Train on Clean, Test on Clean
> **Model:** MonoDepth2, **Backbone:** ResNet-18

| Train | Abs Rel | Sq Rel | RMSE | RMSE log | a1 | a2 | a3 | DEE | mCE (%) | mRR (%) |
|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
| Clean | 0.115	| 0.905	| 4.864 |	0.193	| 0.877 |	0.959	| 0.981 | 0.119 | 100.00 | 84.46 |


### Train on Corruptions, Test on Clean
> **Model:** MonoDepth2, **Backbone:** ResNet-18, **Corrupt Probability:** 1.0

| Train | Abs Rel | Sq Rel | RMSE | RMSE log | a1 | a2 | a3 | DEE | mCE (%) | mRR (%) |
|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
| Bright   | 0.120 | 0.951 | 4.953 | 0.197 | 0.866 | 0.956 | 0.980 | 0.127 | 101.98 | 85.06 |
| Dark     | 0.130 | 1.082 | 5.251 | 0.206 | 0.848 | 0.952 | 0.979 | 0.141 | 111.11 | 84.90 |
| Fog      | 0.119 | 0.883 | 4.972 | 0.197 | 0.865 | 0.957 | 0.981 | 0.127 | 106.54 | 82.91 |
| Snow     | 0.123 | 0.920 | 4.987 | 0.200 | 0.859 | 0.955 | 0.980 | 0.132 | 102.07 | 86.35 |
| Contrast | 0.119 | 0.899 | 4.994 | 0.199 | 0.865 | 0.955 | 0.980 | 0.127 | 111.38 | 81.49 |
| Defocus  | 0.148 | 1.138 | 6.238 | 0.245 | 0.796 | 0.925 | 0.966 | 0.176 | 114.57 | 85.80 |
| Motion   | 0.124 | 0.909 | 5.067 | 0.202 | 0.855 | 0.952 | 0.979 | 0.135 | 100.78 | 85.87 |
| Zoom     | 0.160 | 1.191 | 6.023 | 0.244 | 0.768 | 0.923 | 0.969 | 0.196 | 132.44 | 82.84 |
| Elastic  | 0.122 | 0.950 | 5.015 | 0.200 | 0.865 | 0.955 | 0.979 | 0.129 | 110.40 | 81.94 |
| Gaussian | 0.126 | 1.023 | 5.091 | 0.203 | 0.856 | 0.953 | 0.979 | 0.135 | 94.26  | 90.05 |
| Impulse  | 0.126 | 1.025 | 5.118 | 0.203 | 0.857 | 0.953 | 0.979 | 0.135 | 94.16  | 90.06 |
| Shot     | 0.124 | 0.988 | 5.028 | 0.200 | 0.860 | 0.955 | 0.980 | 0.132 | 90.12  | 90.64 |
| ISO      | 0.127 | 0.984 | 5.055 | 0.203 | 0.853 | 0.953 | 0.980 | 0.137 | 102.64 | 87.93 |
| Pixelate | 0.122 | 0.938 | 4.978 | 0.199 | 0.862 | 0.955 | 0.980 | 0.130 | 106.78 | 83.35 |
| JPEG     | 0.125 | 0.973 | 5.034 | 0.202 | 0.859 | 0.954 | 0.979 | 0.133 | 106.33 | 85.06 |
||
| Combo (W&L) | 0.120 | 0.924 | 4.914 | 0.196 | 0.866 | 0.957 | 0.980 | 0.127 | 83.75 | 91.93 |
| Combo (S&M) | 0.128 | 1.009 | 5.132 | 0.205 | 0.850 | 0.952 | 0.979 | 0.139 | 93.94 | 89.15 |
| Combo (D&P) | 0.124 | 0.979 | 5.064 | 0.201 | 0.858 | 0.954 | 0.980 | 0.133 | 90.44 | 91.02 |
||
| Combo (All) | 0.124 | 0.963 | 5.040 | 0.199 | 0.860 | 0.955 | 0.980 | 0.132 | 71.25 | 96.75 |

> **Model:** MonoDepth2, **Backbone:** ResNet-18, **Corrupt Probability:** 0.5

| Train | Abs Rel | Sq Rel | RMSE | RMSE log | a1 | a2 | a3 | DEE | mCE (%) | mRR (%) |
|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
| Bright   | 0.119 | 0.935 | 4.916 | 0.195 | 0.871 | 0.957 | 0.980 | 0.124 | 99.59 | 85.60 |
| Dark     | 0.121 | 0.951 | 4.947 | 0.196 | 0.866 | 0.957 | 0.981 | 0.128 | 98.17 | 86.18 |
| Fog      | 0.116 | 0.879 | 4.865 | 0.193 | 0.872 | 0.959 | 0.981 | 0.122 | 99.20 | 85.17 |
| Snow     | 0.120 | 0.916 | 4.923 | 0.197 | 0.868 | 0.957 | 0.980 | 0.126 | 98.40 | 86.71 |
| Contrast | 0.118 | 0.928 | 4.929 | 0.194 | 0.870 | 0.958 | 0.981 | 0.124 | 98.90 | 85.76 |
| Defocus  | 0.123 | 0.964 | 5.002 | 0.199 | 0.862 | 0.955 | 0.980 | 0.131 | 90.45 | 89.02 |
| Motion   | 0.120 | 0.908 | 4.897 | 0.196 | 0.865 | 0.957 | 0.980 | 0.128 | 92.24 | 88.08 |
| Zoom     | 0.126 | 0.965 | 4.986 | 0.203 | 0.854 | 0.954 | 0.980 | 0.136 | 96.18 | 88.28 |
| Elastic  | 0.119 | 0.904 | 4.909 | 0.197 | 0.869 | 0.958 | 0.980 | 0.125 | 97.44 | 85.92 |
| Gaussian | 0.123 | 0.980 | 5.031 | 0.200 | 0.863 | 0.955 | 0.980 | 0.130 | 86.81 | 91.60 |
| Impulse  | 0.124 | 0.985 | 5.026 | 0.200 | 0.860 | 0.955 | 0.980 | 0.132 | 92.80 | 90.05 |
| Shot     | 0.123 | 0.989 | 5.015 | 0.201 | 0.864 | 0.955 | 0.979 | 0.130 | 90.09 | 90.57 |
| ISO      | 0.123 | 0.996 | 5.002 | 0.198 | 0.865 | 0.956 | 0.980 | 0.129 | 91.02 | 90.25 |
| Pixelate | 0.119 | 0.912 | 4.895 | 0.197 | 0.868 | 0.958 | 0.981 | 0.126 | 100.89 | 85.02 |
| JPEG     | 0.121 | 0.945 | 4.983 | 0.199 | 0.865 | 0.956 | 0.980 | 0.128 | 104.61 | 84.63 |
||
| Combo (W&L) | 0.120 | 0.945 | 4.925 | 0.195 | 0.868 | 0.957 | 0.980 | 0.126 | 83.15 | 92.08 |
| Combo (S&M) | 0.122 | 0.961 | 5.026 | 0.199 | 0.864 | 0.956 | 0.980 | 0.129 | 88.61 | 89.51 |
| Combo (D&P) | 0.120 | 0.912 | 4.951 | 0.198 | 0.865 | 0.956 | 0.980 | 0.128 | 85.05 | 91.78 |
||
| Combo (All) | 0.118 | 0.912 | 4.935 | 0.195 | 0.867 | 0.957 | 0.981 | 0.126 | 72.36 | 95.64 |

> **Model:** MonoDepth2, **Backbone:** ResNet-18, **Corrupt Probability:** 0.25

| Train | Abs Rel | Sq Rel | RMSE | RMSE log | a1 | a2 | a3 | DEE | mCE (%) | mRR (%) |
|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
| Bright   | 0.118 | 0.933 | 4.906 | 0.195 | 0.871 | 0.958 | 0.980 | 0.123 | 98.43 | 85.78 |
| Dark     | 0.119 | 0.968 | 4.920 | 0.195 | 0.869 | 0.958 | 0.980 | 0.125 | 98.03 | 86.26 |
| Fog      | 0.118 | 0.936 | 4.897 | 0.194 | 0.871 | 0.958 | 0.981 | 0.123 | 98.86 | 85.32 |
| Snow     | 0.119 | 0.922 | 4.897 | 0.196 | 0.868 | 0.957 | 0.980 | 0.126 | 97.72 | 86.87 |
| Contrast | 0.118 | 0.947 | 4.970 | 0.194 | 0.871 | 0.958 | 0.981 | 0.123 | 97.56 | 85.84 |
| Defocus  | 0.119 | 0.927 | 4.915 | 0.196 | 0.868 | 0.958 | 0.980 | 0.126 | 92.12 | 87.89 |
| Motion   | 0.120 | 0.946 | 4.957 | 0.197 | 0.867 | 0.957 | 0.980 | 0.127 | 92.80 | 87.76 |
| Zoom     | 0.123 | 0.973 | 4.980 | 0.199 | 0.863 | 0.957 | 0.980 | 0.130 | 97.21 | 86.88 |
| Elastic  | 0.120 | 0.951 | 4.958 | 0.198 | 0.868 | 0.956 | 0.980 | 0.126 | 99.81 | 85.53 |
| Gaussian | 0.122 | 0.962 | 4.930 | 0.199 | 0.865 | 0.956 | 0.980 | 0.129 | 86.94 | 91.44 |
| Impulse  | 0.121 | 0.977 | 4.956 | 0.197 | 0.867 | 0.957 | 0.980 | 0.127 | 88.18 | 90.48 |
| Shot     | 0.120 | 0.918 | 4.938 | 0.198 | 0.866 | 0.956 | 0.980 | 0.127 | 88.90 | 90.31 |
| ISO      | 0.121 | 0.931 | 4.974 | 0.199 | 0.866 | 0.955 | 0.980 | 0.128 | 86.96 | 91.23 |
| Pixelate | 0.119 | 0.917 | 4.920 | 0.197 | 0.868 | 0.957 | 0.980 | 0.126 | 99.74 | 85.39 |
| JPEG     | 0.121 | 0.931 | 4.955 | 0.199 | 0.866 | 0.956 | 0.980 | 0.128 | 102.96 | 84.77 |
||
| Combo (W&L) | 0.118 | 0.925 | 4.882 | 0.194 | 0.870 | 0.958 | 0.981 | 0.124 | 83.21 | 91.65 |
| Combo (S&M) | 0.120 | 0.936 | 4.925 | 0.196 | 0.866 | 0.956 | 0.980 | 0.127 | 92.57 | 87.77 |
| Combo (D&P) | 0.118 | 0.904 | 4.920 | 0.197 | 0.868 | 0.956 | 0.980 | 0.125 | 84.51 | 91.52 |
||
| Combo (All) | 0.117 | 0.907 | 4.861 | 0.195 | 0.872 | 0.958 | 0.980 | 0.122 | 77.50 | 94.02 |


## Train & Test on Corrupted Data

### Train on Clean, Test on Corruptions
> **Model:** MonoDepth2, **Backbone:** ResNet-18, **Metric:** Abs Rel

| Train | Bright | Dark | Fog | Frost | Snow | Contrast | Defocus | Glass | Motion | Zoom | Elastic| Quant| Gaussian | Impulse | Shot | ISO | Pixelate | JPEG |
|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
| Clean |

### Train on Corruptions, Test on Corruptions
> **Model:** MonoDepth2, **Backbone:** ResNet-18, **Corrupt Probability:** 1.0, **Metric:** Abs Rel

| Train | Bright | Dark | Fog | Frost | Snow | Contrast | Defocus | Glass | Motion | Zoom | Elastic| Quant| Gaussian | Impulse | Shot | ISO | Pixelate | JPEG |
|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
| Bright   |.118|.223|.139|.218|.377|.164|.222|.218|.190|.172|.127|.167|.269|.285|.261|.271|.136|.160
| Dark     |
| Fog      |
| Snow     |
| Contrast |
| Defocus  |
| Motion   |
| Zoom     |
| Elastic  |
| Gaussian |
| Impulse  |
| Shot     |
| Pixelate |
| JPEG     |
||
| Combo (W&L) |
| Combo (S&M) |
| Combo (D&P) |
||
| Combo (All) |

> **Model:** MonoDepth2, **Backbone:** ResNet-18, **Corrupt Probability:** 0.5, **Metric:** Abs Rel

| Train | Bright | Dark | Fog | Frost | Snow | Contrast | Defocus | Glass | Motion | Zoom | Elastic| Quant| Gaussian | Impulse | Shot | ISO | Pixelate | JPEG |
|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
| Bright   |.119|.202|.138|.202|.397|.160|.245|.225|.205|.167|.124|.156|.245|.255|.235|.246|.134|.159|
| Dark     |
| Fog      |
| Snow     |
| Contrast |
| Defocus  |
| Motion   |
| Zoom     |
| Elastic  |
| Gaussian |
| Impulse  |
| Shot     |
| Pixelate |
| JPEG     |
||
| Combo (W&L) |
| Combo (S&M) |
| Combo (D&P) |
||
| Combo (All) |

> **Model:** MonoDepth2, **Backbone:** ResNet-18, **Corrupt Probability:** 0.25, **Metric:** Abs Rel

| Train | Bright | Dark | Fog | Frost | Snow | Contrast | Defocus | Glass | Motion | Zoom | Elastic| Quant| Gaussian | Impulse | Shot | ISO | Pixelate | JPEG |
|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
| Bright   | 
| Dark     |
| Fog      |
| Snow     |
| Contrast |
| Defocus  |
| Motion   |
| Zoom     |
| Elastic  |
| Gaussian |
| Impulse  |
| Shot     |
| Pixelate |
| JPEG     |
||
| Combo (W&L) |
| Combo (S&M) |
| Combo (D&P) |
||
| Combo (All) |

